KISSY.add("bee-demo/kg/kg-top/index",["node","base","anim"],function(e,t,n,o){var s=t("node"),i=s.all,a=t("base"),r=(t("anim"),a.extend({initializer:function(){var e=this,t=e.get("showPos");0===t&&i(window).on("resize",function(){e.set("showPos",i(window).height())})},_create:function(){var e=this,t=e.get("tpl"),n=i(t);return e.set("$target",n),i("body").append(n),n.on("click",function(t){t.preventDefault(),e.run()}),n},render:function(){var t=this,n=t.get("showPos"),o=t.get("$target");i(window).on("scroll",function(){i(window).scrollTop()>n?(o.length||(o=t._create()),e.later(function(){t.set("visible",!0)})):t.set("visible",!1)}),o.length&&o.on("click",function(e){e.preventDefault(),t.run()})},run:function(){var e=this,t=e.get("scrollSpeed");i("body").animate({scrollTop:0},t,"swing")}},{ATTRS:{$target:{value:"",getter:function(e){return i(e)}},showPos:{value:0,getter:function(e){return e>0?e:i(window).height()}},tpl:{value:'<div class="J_Top goto-top"><div class="top-bg"></div><span class="vc-iconfont top-icon">&#xe600;</span></div>'},visible:{value:!1,setter:function(e){var t=this,n=t.get("$target"),o=t.get("showClass");return n[e&&"addClass"||"removeClass"](o),e}},scrollSpeed:{value:1},showClass:{value:"top-show"}}}));o.exports=r});